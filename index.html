<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Funny Memory Game</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: black;
      color: white;
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }
    h1 {
      color: white;
      font-size: 28px;
    }
    .game-info {
      margin: 10px 0;
      font-size: 18px;
      font-weight: bold;
    }
    .memory-game {
      display: grid;
      gap: 10px;
      margin: auto;
    }
    .card {
      width: 80px; /* Decreased size */
      height: 80px; /* Decreased size */
      background: yellow;
      border-radius: 8px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 32px; /* Decreased font size */
      cursor: pointer;
      border: 2px solid white;
      transition: transform 0.3s, background 0.3s;
    }
    .card.flipped {
      background: #ff9800;
    }
    .card.matched {
      background: #4caf50;
      pointer-events: none;
    }
    .buttons {
      margin-top: 15px;
    }
    .btn {
      padding: 10px 20px;
      font-size: 18px;
      border: none;
      color: white;
      border-radius: 5px;
      cursor: pointer;
      margin: 5px;
    }
    .restart-btn {
      background: #f44336;
    }
    .stop-btn {
      background: #2196F3;
    }
    .difficulty-select {
      margin-top: 15px;
      padding: 10px;
      font-size: 16px;
      border: none;
      color: white;
      background-color: #2196F3;
      border-radius: 5px;
      position: absolute;
      top: 20px;
      left: 20px;
    }
    .win-message, .game-over-message, .stopped-message {
      font-size: 22px;
      color: #4caf50;
      margin-top: 15px;
      display: none;
    }
    .game-over-message {
      color: #f44336;
    }
    .stopped-message {
      color: orange;
    }
    .you-win-message {
      font-size: 48px;
      color: #4caf50;
      font-weight: bold;
      display: none;
      margin-top: 30px;
    }
  </style>
</head>
<body>

  <h1>Funny Memory Game h ü§£</h1>
  <div class="game-info">
    Moves: <span id="moves">0</span> | Time Left: <span id="time">45</span> sec
  </div>

  <!-- Difficulty Level Dropdown -->
  <div>
    <label for="difficulty" style="font-size: 18px; color: white;">Select Difficulty:</label>
    <select id="difficulty" class="difficulty-select" onchange="startGame()">
      <option value="easy">Easy</option>
      <option value="medium">Medium</option>
      <option value="hard">Hard</option>
    </select>
  </div>

  <div class="memory-game" id="gameBoard"></div>
  
  <div class="buttons">
    <button class="btn restart-btn" onclick="startGame()">Restart üîÑ</button>
    <button class="btn stop-btn" id="stopPlayBtn" onclick="toggleGame()">Stop üõë</button>
  </div>

  <div class="win-message" id="winMessage">üéâ You won! Try again? üéâ</div>
  <div class="game-over-message" id="gameOverMessage">üíÄ Time's up! let's Try again. üíÄ</div>
  <div class="stopped-message" id="stoppedMessage">‚è∏ Game Paused! Click Play to continue. ‚è∏</div>

  <!-- You Win Message -->
  <div class="you-win-message" id="youWinMessage">YOU WON! üéâ</div>

  <!-- Sounds -->
  <audio id="flipSound" src="https://www.fesliyanstudios.com/play-mp3/438"></audio>
  <audio id="matchSound" src="https://www.fesliyanstudios.com/play-mp3/439"></audio>
  <audio id="winSound" src="https://www.fesliyanstudios.com/play-mp3/440"></audio>

  <script>
    const emojis =  ['üí®', 'ü§™', 'üòú', 'ü§°', 'ü•≥', 'ü§Ø', 'üôÉ', 'üòπ', 'ü§£', 'üòÜ', 'üòõ', 'üòé', 'ü§ë', 'ü§ì', 'üòà', 'üëª', 
                     'ü§†', 'ü¶Ñ', 'üçï', 'üéâ', 'üåà', 'üíÄ', 'üî•', 'üçø', 'üéÅ', 'üëë', 'üéß', 'üé§', 'üêµ', 'ü¶ã', 'üçâ', 'üíé']; // More emojis added
    let cards = [...emojis, ...emojis]; // Duplicate for pairs
    let flippedCards = [];
    let matchedPairs = 0;
    let moves = 0;
    let timeLeft = 45;
    let timerInterval;
    let gamePaused = false;

    const flipSound = document.getElementById("flipSound");
    const matchSound = document.getElementById("matchSound");
    const winSound = document.getElementById("winSound");
    const stopPlayBtn = document.getElementById("stopPlayBtn");
  

    function shuffle(array) {
      return array.sort(() => Math.random() - 0.5);
    }

    function setDifficulty() {
      const difficulty = document.getElementById("difficulty").value;

      if (difficulty === "easy") {
        timeLeft = 60;
        cards = [...emojis.slice(0, 8), ...emojis.slice(0, 8)]; // 16 cards (8 pairs)
        document.querySelector('.memory-game').style.gridTemplateColumns = 'repeat(4, 1fr)'; // 4 columns
      } else if (difficulty === "medium") {
        timeLeft = 45;
        cards = [...emojis.slice(0, 10), ...emojis.slice(0, 10)]; // 20 cards (10 pairs)
        document.querySelector('.memory-game').style.gridTemplateColumns = 'repeat(4, 1fr)'; // 4 columns
      } else {
        timeLeft = 30;
        cards = [...emojis.slice(0, 12), ...emojis.slice(0, 12)]; // 24 cards (12 pairs)
        document.querySelector('.memory-game').style.gridTemplateColumns = 'repeat(5, 1fr)'; // 5 columns
      }

      document.getElementById("time").textContent = timeLeft;
    }

    function startGame() {
      setDifficulty();
      document.getElementById("winMessage").style.display = "none";
      document.getElementById("gameOverMessage").style.display = "none";
      document.getElementById("stoppedMessage").style.display = "none";
      document.getElementById("youWinMessage").style.display = "none"; // Hide the win message at start
      document.getElementById("moves").textContent = 0;
      moves = 0;
      matchedPairs = 0;
      gamePaused = false;
      stopPlayBtn.textContent = "pause üõë";
      stopPlayBtn.style.background = "#2196F3";
      clearInterval(timerInterval);
      timerInterval = setInterval(updateTimer, 1000);

      // Shuffle cards
      cards = shuffle(cards);
      const gameBoard = document.getElementById("gameBoard");
      gameBoard.innerHTML = "";
      flippedCards = [];

      cards.forEach((emoji, index) => {
        const card = document.createElement("div");
        card.classList.add("card");
        card.dataset.index = index;
        card.dataset.emoji = emoji;
        card.addEventListener("click", flipCard);
        gameBoard.appendChild(card);
      });
    }

    function toggleGame() {
      if (gamePaused) {
        // Resume Game
        gamePaused = false;
        stopPlayBtn.textContent = "pause üõë";
        stopPlayBtn.style.background = "#2196F3";
        document.getElementById("stoppedMessage").style.display = "none";
        timerInterval = setInterval(updateTimer, 1000);
        document.querySelectorAll(".card").forEach(card => card.addEventListener("click", flipCard));
      } else {
        // Pause Game
        gamePaused = true;
        stopPlayBtn.textContent = "Play ‚ñ∂Ô∏è";
        stopPlayBtn.style.background = "#4CAF50";
        clearInterval(timerInterval);
        document.getElementById("stoppedMessage").style.display = "block";
        document.querySelectorAll(".card").forEach(card => card.removeEventListener("click", flipCard));
      }
    }

    function updateTimer() {
      if (timeLeft > 0 && !gamePaused) {
        timeLeft--;
        document.getElementById("time").textContent = timeLeft;
      } else {
        clearInterval(timerInterval);
        if (!gamePaused) {
          document.getElementById("gameOverMessage").style.display = "block";
          document.querySelectorAll(".card").forEach(card => card.removeEventListener("click", flipCard));
        }
      }
    }

    function flipCard() {
      if (flippedCards.length >= 2 || this.classList.contains("flipped") || gamePaused) return;
      flipSound.play();

      this.classList.add("flipped");
      this.textContent = this.dataset.emoji;
      flippedCards.push(this);

      if (flippedCards.length === 2) {
        moves++;
        document.getElementById("moves").textContent = moves;
        checkMatch();
      }
    }

    function checkMatch() {
      const [card1, card2] = flippedCards;
      if (card1.dataset.emoji === card2.dataset.emoji) {
        matchSound.play();
        card1.classList.add("matched");
        card2.classList.add("matched");
        matchedPairs++;
        timeLeft += 5;
        document.getElementById("time").textContent = timeLeft;
      } else {
        setTimeout(() => {
          card1.classList.remove("flipped");
          card2.classList.remove("flipped");
          card1.textContent = "";
          card2.textContent = "";
        }, 800);
      }

      // If all pairs are matched, show the win message
      if (matchedPairs === cards.length / 2) {
        document.getElementById("youWinMessage").style.display = "block";
        winSound.play();
      }
      flippedCards = [];
    }

    startGame();
  </script>

</body>
</html>
